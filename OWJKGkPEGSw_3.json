{
  "name": "Tool Call for OpenAI Prompt Engineer",
  "nodes": [
    {
      "id": "nordsym-brand-header",
      "name": "NordSym Info",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "parameters": {
        "content": "## üî∑ NordSym AB\n**Verifierad Automation**\n\nüì¶ **K√§lla:** FlowVault.se\nüè∑Ô∏è **Version:** 1.0\nüìß **Support:** support@nordsym.com\n\nüí° **Installation:**\n1. Importera i n8n\n2. Konfigurera credentials\n3. Testa med test-data\n4. Aktivera workflow\n\nüîó **Mer hj√§lp:** nordsym.com",
        "height": 320,
        "width": 300,
        "color": 5
      }
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "id": "c055762a-8fe7-4141-a639-df2372f30060",
      "typeVersion": 1.1,
      "name": "Workflow Input Trigger",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        260,
        340
      ]
    },
    {
      "parameters": {
        "agent": "conversationalAgent",
        "promptType": "define",
        "text": "={{ $json.query }}",
        "options": {
          "systemMessage": "You are an intelligent Prompt Engineer for a wide variety of AI models. Your task is to generate a very refined prompt specifically for OpenAI AI models. When generating or refining prompts, adhere to the following additional guidelines without altering the core instructions:\n\n- Analyze the task by identifying key objectives and context; include only the essential background and details.\n- Clearly separate instructions from any context or data using delimiters (e.g., triple quotes) to avoid ambiguity.\n- If using a conversational interface, incorporate a system or role directive to set tone and style (e.g., \"You are an expert AI assistant\" or similar).\n- Include 1‚Äì3 targeted examples when the task benefits from demonstration, especially for format-sensitive or structured outputs.\n- Maintain clarity by using step-by-step instructions or chain-of-thought cues for complex tasks.\n- Ensure the prompt is as concise as possible while still providing all necessary details‚Äîavoid filler and redundancy.\n- Tailor your prompt style based on the model: allow advanced models to infer intent with minimal examples, but be explicit for cost-sensitive models that require clear, direct instructions.\n- Emphasize the desired output format, tone, and any constraints explicitly to guide the AI toward generating optimal results.\n- Be prepared to iterate: if the user provides feedback, refine the prompt further by integrating additional context, clarifications, or structural adjustments.\n\nEach time you get an input, you will analyze the job and task the AI model needs to do and create a good prompt for OpenAI so that it will generate the best results when performing the job required.\n\nThe user can also go back and forth with feedback on the generated prompt and refine it further. In that case you will be provided with the previously generated prompt and you will have to refine it further according to the feedback."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        480,
        340
      ],
      "id": "a86f5112-ec72-42fd-9e24-ab79194ddb23",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        400,
        600
      ],
      "id": "66913a3c-eb00-4ac5-9488-c71edff1151b",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "OBe43kvkH4bfuXPT",
          "name": "Prompt Advisers Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "o3-mini",
          "mode": "id"
        },
        "messages": {
          "values": [
            {
              "content": "You are to refine the prompt for OpenAI model for a specific job/task so that the said model executes the work perfectly.",
              "role": "system"
            },
            {
              "content": "=Here's the prompt generated:\n{{ $json.output }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        840,
        340
      ],
      "id": "60bdfe1d-5f01-46fe-a288-bf5cff9f9ecb",
      "name": "OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "bBtD8KtcEPsOhElY",
          "name": "Prompt Advisers OpenAI Account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a1bb9538-09c4-4736-b79b-fd56898229e4",
              "name": "Prompt",
              "value": "={{ $json.message.content }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1200,
        340
      ],
      "id": "5a06b311-1ac5-424c-a674-f284dfea97eb",
      "name": "Edit Fields"
    }
  ],
  "connections": {
    "Workflow Input Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "any"
  },
  "versionId": "de8818d0-3722-4f05-88a7-851aaf0ea583",
  "meta": {
    "templateId": "VMiAxXa3lCAizGB5f7dVZQSFfg3FtHkdTKvLuupqBls=",
    "templateCredsSetupCompleted": true,
    "instanceId": "aaadb797535f05587ee95b776c942a7c3f7a46fd7aa0c9b6a9d64e1e595f8af1",
    "templateCreator": "NordSym AB",
    "templateVersion": "1.0",
    "verified": true,
    "source": "FlowVault.se",
    "contact": "support@nordsym.com",
    "driveFileId": "12Lyb9rlIbrWBk69QE7VGIDtNsRoAu4YJ",
    "brandedAt": "2026-01-01T22:38:44.237Z"
  },
  "id": "7vnvCbRQku9Hfm3D",
  "tags": []
}